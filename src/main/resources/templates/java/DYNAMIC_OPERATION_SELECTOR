<#import "import/classMemberTemplates" as classMembers/>
//CHECKSTYLE:OFF
package ${currentPackage};

<#list importPackages as i>
import ${i}.*;
</#list>

${generatedAnnotation!}
@SuppressWarnings({"all", "PMD"})
public class ${className}
{
	private final StringBuilder documentBuilder;
	public ${className}(StringBuilder documentBuilder) {
		this.documentBuilder = documentBuilder;
	}
	<#list selections as typeName, fields>
		<#if typeName?has_content>
			<#lt/>	public ${className} on${typeName}(java.util.function.Consumer<${typeName}> consumer) {
			<#lt/>		documentBuilder.append(" ...on ${typeName} {");
			<#lt/>		consumer.accept(new ${typeName}());
			<#lt/>		documentBuilder.append(" }");
			<#lt/>		return this;
			<#lt/>	}
			<#lt/>	public class ${typeName} {
			<@classMembers.addSelectionFields className=typeName fields=fields indent='\t\t' nested=true/>
			<#lt/>	}
		<#else>
			<@classMembers.addSelectionFields className=className fields=fields indent='\t' nested=true/>
		</#if>
	</#list>
}
//CHECKSTYLE:ON
